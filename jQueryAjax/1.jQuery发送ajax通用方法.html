<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
</head>

<body>
    <div class="container">
        <h1 class="page-header">jQuery 发送Ajax 请求</h1>
        <button class='btn btn-primary'>GET</button>
        <button class='btn btn-danger'>POST</button>
        <button class='btn btn-info'>通用性方法发送ajax请求</button>
    </div>
</body>
<script>
    $('button').eq(0).click(function() {

        $.get('http://127.0.0.1:8000/server-jquery', {
            name: "philip"
        }, function(data) {
            // 此处形参data代表响应体
            console.log(data)
        }, 'json')
    })
    $('button').eq(1).click(function() {
        $.post("http://127.0.0.1:8000/server-jquery", {
            name: "yunhui"
        }, (data) => {
            console.log(data)
        })
    })
    $('button').eq(2).click(function() {
        // jquery 对象内含 一个 ajax 属性方法，该方法接受一个参数，此参数是一个对象，键值对包含： 
        $.ajax({
            // 1属性 url
            url: "http://127.0.0.1:8000/server-delay",
            // 2. 属性 请求体,或者发送参数
            data: {
                a: 100,
                b: 200
            },
            // 3. 属性 请求方法
            type: "GET",
            //  4.  属性 成功回调函数， 对响应体做一个处理
            success: function(res) {
                console.log(res)
            },
            // 5. 属性 设置返回体格式
            dataType: 'json',
            // 6. 响应失败的回调函数
            error: function() {
                console.log('超时了，出错了')
            },
            // 7. 超时时间
            timeout: 2000,
            // 8. headers 设置
            headers: {
                c: 300,
                d: 400
            }
        })

    })
</script>

</html>